/*
Delta script to re-baseline the event table and update the existing registration data to match
*/

SET FOREIGN_KEY_CHECKS = 0; 

-- Re-baseline the contents of the event table

TRUNCATE EVENT;


INSERT INTO EVENT
	(ID, NAME, DESCRIPTION, TYPE_ID, GAME_SYSTEM_ID, NOVA_YEAR, EVENT_START, EVENT_END, IS_UNIQUE, IS_WEEKEND_BADGE_REQ, PRICE, AVAILABLE_QTY, NOTE, LAST_MODIFIED_BY, LAST_MODIFIED_DATE, CREATED_BY, CREATED_DATE)
VALUES
	(1,'Weekend Badge','NULL',1,NULL,2013,'2013-08-29 00:00:00','2013-09-02 00:00:00',1,1,45,NULL,'coupon code NOVA 2013 - $10 DISCOUNT UNTIL April 15, $5 discount April 15 - August 18',USER(),SYSDATE(),USER(),SYSDATE()),
	(2,'Friday Day Pass','NULL',1,NULL,2013,'2013-08-30 00:00:00','2013-08-30 00:00:00',1,1,15,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(3,'Saturday Day Pass','NULL',1,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(4,'Sunday Day Pass','NULL',1,NULL,2013,'2013-09-02 00:00:00','2013-09-13 00:00:00',1,1,15,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(5,'Pre order - NOVA Open 2013 t-shirt','NULL',1,NULL,2013,NULL,NULL,1,1,12,NULL,'only available for pre-order WITH a weekend badge - needs comment box  for t-shirt size',USER(),SYSDATE(),USER(),SYSDATE()),
	(6,'VIP bag','NULL',1,NULL,2013,NULL,NULL,1,1,80,78,'needs comment box labeled t-shirt size; + area for identifying army for army-spec swag',USER(),SYSDATE(),USER(),SYSDATE()),
	(7,'40K GT','NULL',2,1,2013,'2013-08-30 00:00:00','2013-09-02 00:00:00',1,1,65,256,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(8,'40K Narrative','NULL',2,1,2013,'2013-08-29 00:00:00','2013-09-02 00:00:00',1,1,40,60,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(9,'40K Trios','NULL',2,1,2013,'2013-08-30 00:00:00','2013-09-02 00:00:00',1,1,90,20,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(10,'40K Invitational','NULL',2,1,2013,'2013-08-30 00:00:00','2013-09-02 00:00:00',1,1,50,32,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(11,'Fantasy','NULL',2,6,2013,'2013-09-01 00:00:00','2013-09-02 00:00:00',1,1,65,64,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(12,'Warmachine - all tournaments','NULL',7,5,2013,'2013-08-29 00:00:00','2013-09-02 00:00:00',1,1,-50,64,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(13,'Warmachine - any single tournament','NULL',2,5,2013,'2013-08-29 00:00:00','2013-09-02 00:00:00',1,1,10,64,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(14,'Flames of War - Mid-War','NULL',2,2,2013,'2013-08-30 00:00:00','2013-08-30 00:00:00',1,1,15,32,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(15,'Flames of War - Late War','NULL',2,2,2013,'2013-09-01 00:00:00','2013-09-02 00:00:00',1,1,25,32,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(16,'Flames of War - Double-feature','Entry into both Mid & Late War tournaments',2,2,2013,'2013-08-30 00:00:00','2013-09-02 00:00:00',1,1,35,32,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(17,'Infinity','NULL',2,3,2013,'2013-08-29 00:00:00','2013-08-30 00:00:00',1,1,20,24,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(18,'Magic - Last Chance Qualifier','NULL',2,4,2013,'2013-08-29 00:00:00','2013-08-29 00:00:00',1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(19,'Magic - Sealed Deck Event ','NULL',2,4,2013,'2013-08-30 00:00:00','2013-08-30 00:00:00',1,1,25,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(20,'Magic - Mega Friday Night Magic','NULL',2,4,2013,'2013-08-30 00:00:00','2013-08-30 00:00:00',1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(21,'Magic - Standard Tournament','NULL',2,4,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,25,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(22,'Magic - Modern Tournament','NULL',2,4,2013,'2013-09-02 00:00:00','2013-09-02 00:00:00',1,1,25,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(23,'Magic - Weekend extravaganza','All scheduled Magic events (excluding pickups)',7,4,2013,'2013-08-29 00:00:00','2013-09-02 00:00:00',1,1,-40,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(24,'Capital Palette - Unlimited Entries','NULL',4,NULL,2013,'2013-08-30 00:00:00','2013-09-02 00:00:00',1,1,25,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(25,'Capital Palette - single model','NULL',4,NULL,2013,'2013-08-30 00:00:00','2013-09-02 00:00:00',1,1,5,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(26,'Capital Palette -one  collection','NULL',4,NULL,2013,'2013-08-30 00:00:00','2013-09-02 00:00:00',1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(27,'Donation - Fisher House','NULL',5,NULL,2013,NULL,NULL,1,1,NULL,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(28,'Donation - Doctors Without Borders','NULL',5,NULL,2013,NULL,NULL,1,1,NULL,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(29,'GEEK NATION TOURS','NULL',6,NULL,2013,NULL,NULL,1,1,NULL,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(30,'01 - Basic Black Intro','NULL',3,NULL,2013,'2013-08-29 00:00:00','2013-08-29 00:00:00',1,1,25,20,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(31,'02 - Airbrushing Minis','NULL',3,NULL,2013,'2013-08-29 00:00:00','2013-08-29 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(32,'03 - Basic Black Intro','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,25,20,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(33,'04 - Airbrushing Minis','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(34,'05 - Weathering Techniques','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(35,'06 - Basing Your Models','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(36,'07 - Take-home Tectonic Terrain','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,25,20,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(37,'08 - Using Pigments on Minis','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(38,'09 - Basic Black Advanced','Must have attended seminar 1 or 3',3,NULL,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,150,10,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(39,'10 - Masterclass Painting','NULL',3,NULL,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(40,'11 - Using Pigments on Minis','NULL',3,NULL,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(41,'12 - Basing Your Models','NULL',3,NULL,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(42,'13 - Airbrushing Minis','NULL',3,NULL,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(43,'14 - Using Pigments on Minis','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(44,'15 - Airbrushing Minis','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(45,'16 - Masterclass Painting','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(46,'17 - Weathering Techniques','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(47,'Infinity Hunger Games #1','NULL',2,3,2013,'2013-08-30 00:00:00','2013-08-30 00:00:00',1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(48,'Infinity Main ITS Tournament','NULL',2,3,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,30,32,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(49,'Infinity Hunger Games #2','NULL',2,3,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(50,'Infinity Team Tournament','NULL',2,3,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,15,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(51,'Infinity Weekend Pass','(Counts as following discounts: $35 (badge), $10 (Deathmatch), $30 (5-Round GT), $10 (Unique deathmatch), $15 (Fusion), $5 (Capital Palette entry)) ~ Total value $105',7,NULL,2013,NULL,'2013-08-31 00:00:00',1,1,-20,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(52,'WM/H - Tierany Tournament','NULL',2,5,2013,NULL,'2013-08-31 00:00:00',1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(53,'WM/H - Specialists Tournament','NULL',2,5,2013,NULL,'2013-09-01 00:00:00',1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(54,'WM/H - Trifecta Team Tournament','NULL',2,5,2013,NULL,NULL,1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(55,'WM/H - Death Race','NULL',2,5,2013,NULL,NULL,1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(56,'WM/H - Who is the Boss','NULL',2,5,2013,NULL,NULL,1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(57,'WM/H - Harcore Tournament','NULL',2,5,2013,NULL,NULL,1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(58,'WM/H - Old-Style Masters','NULL',2,5,2013,NULL,NULL,1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(59,'WM/H - Flanks','NULL',2,5,2013,NULL,NULL,1,1,10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(60,'Deluxe Seminar Pass','NULL',7,NULL,2013,NULL,NULL,1,1,-10,15,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(61,'Weekend Badge Early Bird','NULL',7,NULL,2013,NULL,NULL,1,1,-10,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(62,'Weekend Badge Pre-sale','NULL',7,NULL,2013,NULL,NULL,1,1,-5,NULL,NULL,USER(),SYSDATE(),USER(),SYSDATE()),
	(63,'American Craft Beer Seminar','NULL',3,NULL,2013,'2013-08-31 00:00:00','2013-08-31 00:00:00',1,1,50,20,'Not eligible for seminar pass',USER(),SYSDATE(),USER(),SYSDATE()),
	(64,'American Craft Cocktail Seminar','NULL',3,NULL,2013,'2013-09-01 00:00:00','2013-09-01 00:00:00',1,1,50,20,'Not eligible for seminar pass',USER(),SYSDATE(),USER(),SYSDATE())
	;

-- Update the registration table to match the new keys

UPDATE REGISTRATION SET EVENT_ID = 1 WHERE EVENT_ID=1;
UPDATE REGISTRATION SET EVENT_ID = 2 WHERE EVENT_ID=2;
UPDATE REGISTRATION SET EVENT_ID = 3 WHERE EVENT_ID=3;
UPDATE REGISTRATION SET EVENT_ID = 4 WHERE EVENT_ID=4;
UPDATE REGISTRATION SET EVENT_ID = 5 WHERE EVENT_ID=5;
UPDATE REGISTRATION SET EVENT_ID = 6 WHERE EVENT_ID=6;
UPDATE REGISTRATION SET EVENT_ID = 7 WHERE EVENT_ID=8;
UPDATE REGISTRATION SET EVENT_ID = 8 WHERE EVENT_ID=9;
UPDATE REGISTRATION SET EVENT_ID = 9 WHERE EVENT_ID=10;
UPDATE REGISTRATION SET EVENT_ID = 10 WHERE EVENT_ID=11;
UPDATE REGISTRATION SET EVENT_ID = 11 WHERE EVENT_ID=12;
UPDATE REGISTRATION SET EVENT_ID = 12 WHERE EVENT_ID=13;
UPDATE REGISTRATION SET EVENT_ID = 13 WHERE EVENT_ID=14;
UPDATE REGISTRATION SET EVENT_ID = 14 WHERE EVENT_ID=15;
UPDATE REGISTRATION SET EVENT_ID = 15 WHERE EVENT_ID=16;
UPDATE REGISTRATION SET EVENT_ID = 16 WHERE EVENT_ID=17;
UPDATE REGISTRATION SET EVENT_ID = 17 WHERE EVENT_ID=18;
UPDATE REGISTRATION SET EVENT_ID = 18 WHERE EVENT_ID=19;
UPDATE REGISTRATION SET EVENT_ID = 19 WHERE EVENT_ID=22;
UPDATE REGISTRATION SET EVENT_ID = 20 WHERE EVENT_ID=23;
UPDATE REGISTRATION SET EVENT_ID = 21 WHERE EVENT_ID=24;
UPDATE REGISTRATION SET EVENT_ID = 22 WHERE EVENT_ID=25;
UPDATE REGISTRATION SET EVENT_ID = 23 WHERE EVENT_ID=26;
UPDATE REGISTRATION SET EVENT_ID = 24 WHERE EVENT_ID=27;
UPDATE REGISTRATION SET EVENT_ID = 25 WHERE EVENT_ID=28;
UPDATE REGISTRATION SET EVENT_ID = 26 WHERE EVENT_ID=29;
UPDATE REGISTRATION SET EVENT_ID = 27 WHERE EVENT_ID=30;
UPDATE REGISTRATION SET EVENT_ID = 28 WHERE EVENT_ID=31;
UPDATE REGISTRATION SET EVENT_ID = 29 WHERE EVENT_ID=32;
UPDATE REGISTRATION SET EVENT_ID = 30 WHERE EVENT_ID=47;
UPDATE REGISTRATION SET EVENT_ID = 31 WHERE EVENT_ID=48;
UPDATE REGISTRATION SET EVENT_ID = 32 WHERE EVENT_ID=49;
UPDATE REGISTRATION SET EVENT_ID = 33 WHERE EVENT_ID=50;
UPDATE REGISTRATION SET EVENT_ID = 34 WHERE EVENT_ID=51;
UPDATE REGISTRATION SET EVENT_ID = 35 WHERE EVENT_ID=52;
UPDATE REGISTRATION SET EVENT_ID = 36 WHERE EVENT_ID=53;
UPDATE REGISTRATION SET EVENT_ID = 37 WHERE EVENT_ID=54;
UPDATE REGISTRATION SET EVENT_ID = 38 WHERE EVENT_ID=55;
UPDATE REGISTRATION SET EVENT_ID = 39 WHERE EVENT_ID=56;
UPDATE REGISTRATION SET EVENT_ID = 40 WHERE EVENT_ID=57;
UPDATE REGISTRATION SET EVENT_ID = 41 WHERE EVENT_ID=58;
UPDATE REGISTRATION SET EVENT_ID = 42 WHERE EVENT_ID=59;
UPDATE REGISTRATION SET EVENT_ID = 43 WHERE EVENT_ID=60;
UPDATE REGISTRATION SET EVENT_ID = 44 WHERE EVENT_ID=61;
UPDATE REGISTRATION SET EVENT_ID = 45 WHERE EVENT_ID=62;
UPDATE REGISTRATION SET EVENT_ID = 46 WHERE EVENT_ID=63;
UPDATE REGISTRATION SET EVENT_ID = 47 WHERE EVENT_ID=64;
UPDATE REGISTRATION SET EVENT_ID = 48 WHERE EVENT_ID=65;
UPDATE REGISTRATION SET EVENT_ID = 49 WHERE EVENT_ID=66;
UPDATE REGISTRATION SET EVENT_ID = 50 WHERE EVENT_ID=67;
UPDATE REGISTRATION SET EVENT_ID = 51 WHERE EVENT_ID=68;
UPDATE REGISTRATION SET EVENT_ID = 52 WHERE EVENT_ID=69;
UPDATE REGISTRATION SET EVENT_ID = 53 WHERE EVENT_ID=70;
UPDATE REGISTRATION SET EVENT_ID = 54 WHERE EVENT_ID=71;
UPDATE REGISTRATION SET EVENT_ID = 55 WHERE EVENT_ID=72;
UPDATE REGISTRATION SET EVENT_ID = 57 WHERE EVENT_ID=74;
UPDATE REGISTRATION SET EVENT_ID = 58 WHERE EVENT_ID=75;
UPDATE REGISTRATION SET EVENT_ID = 59 WHERE EVENT_ID=76;
UPDATE REGISTRATION SET EVENT_ID = 60 WHERE EVENT_ID=77;

SET FOREIGN_KEY_CHECKS = 1;


INSERT INTO CHANGELOG
	(SCRIPT, RUN_DATE)
VALUES
	('010001007_Rebaseline_Event_Update_Registration.sql',NOW())
;

COMMIT;